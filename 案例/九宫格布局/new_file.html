<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>九宫格布局</title>
		<style>
			#box{
				
				position: relative;
			}
			#box div{
				width: 150px;
				height:250px;
				background: #CCCCCC;
				margin-left: 15px;
				margin-bottom: 15px;
				overflow: hidden;
			}
			#box div img{
				width: 100%;
				height: 70%;
			}
			#box div p{
				margin: 0 0;
			}
			
			#box div p:first-of-type{
				margin: 2px 0;
				font-size: 20px;
				text-align: center;
			}
		</style>
		<script>
			window.onload=function(){
				var button1=document.getElementById("button1");
				var button2=document.getElementById("button2");
				var button3=document.getElementById("button3");
				var box=document.getElementById("box");
				button1.onclick=function(){
					shu(3,box);
				}
				button2.onclick=function(){
					shu(4,box);
				}
				button3.onclick=function(){
					shu(5,box);
				}
			function shu(lieshu,fu){
				var boxW=150,boxH=250,marginXY=15;
				
				for(var i=0;i<fu.children.length;i++){
					var hangshu=Math.floor(i/lieshu);
					var lieshubiao=Math.floor(i%lieshu);

					var boxding=fu.children[i];
					boxding.style.position="absolute";
					boxding.style.left=lieshubiao*(boxW+marginXY)+"px";
					boxding.style.top=hangshu*(boxH+marginXY)+"px";

					
				}
				
			}
				
	
			}
		</script>
	</head>
	<body>
		<button id="button1">3列</button>
		<button id="button2">4列</button>
		<button id="button3">5列</button>
		
		<div id="box">
			<div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>

				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div>
			<div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>
			
				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div>
			<div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>
			
				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div>
			<div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>
			
				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div>
			<div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>
			
				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div>
			<div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>
			
				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div><div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>

				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div>
			
			<div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>
			
				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div>
			<div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>
			
				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div>
			<div>
				<img src="img/3.jpg" alt="">
				<p class="ddd">海贼王</p>
			
				<p>海贼王海贼王海贼王海贼王海贼王海贼王海贼王海贼王</p>
			</div>
		</div>
	</body>
</html>
