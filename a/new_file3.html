<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
				list-style: none;
			}
			
			#ddd{
				width:300px;
				height: 200px;
				background: #0077AA;
				
			}
			
		</style>
		
	</head>
	<body>
		
		<div id="ddd">
			
		</div>
	
	<script>
		var fg=document.getElementById("ddd")
		var stx=0;
		var mvx=0;
		var sty=0;
		var mvy=0;
		var x=0;
		var y=0;
		
		function getAngle(x,y){
			return Math.atan2(y,x)*(180/Math.PI);
			// return Math.round(((Math.atan2(y,x)*(180/Math.PI))+180)/90+3)%4;
		}
		function getAngle2(x,y){
			
			return Math.round(((Math.atan2(y,x)*(180/Math.PI))+180)/90+3)%4;
		}
		fg.ontouchstart=function(e){
			stx=e.changedTouches[0].pageX;
			sty=e.changedTouches[0].pageY;
		}
		fg.ontouchmove=function(e){
			mvx=e.changedTouches[0].pageX;
			mvy=e.changedTouches[0].pageY;
			y=mvy-sty
			x=mvx-stx
			var angle=getAngle(x,y)
			var angle2=getAngle2(x,y)
			// if(angle)
			console.log(angle2)
			if(angle>=-135 && angle<=-45){
				console.log('上')
			}
			if(angle>45 && angle<135){
				console.log('下')
			}
			if(angle>=-45 && angle<=45){
				console.log('右')
			}
			if((angle>=135 && angle<=180) || (angle>=-180 && angle<-135)){
				console.log('左 ')
			}
		}
		
		
		fg.ontouchend=function(e){
			// if(Math.abs(y)>Math.abs(x) && y>0){
			// 	console.log(999999)
			// }
		}
		
		
	</script>		
	</body>
	
	
	
</html>
